# Протестировать
1. Клонируем репозиторий
```
git clone https://github.com/rt1718/emetall-tz.git
cd emetall-tz
```
2. Устанавливаем зависимости через Composer
```
composer install
```
3. Запускаем проект локально
```
php -S localhost:8000 -t public/
```
или
```
php public/index.php
```
# Описание задачи
Вам предоставлен массив данных о товарах в формате JSON. Каждый элемент
массива содержит информацию о товаре: категорию, название, сплав (марку), размер,
стандарт и уникальный идентификатор. Необходимо на языке PHP или Python
обработать этот массив и создать новый массив, который будет соответствовать
структуре, описанной ниже. Новый массив должен учитывать правила разложения
данных из поля title, добавлять дополнительные поля для каждой категории,
опираясь на предоставленную таблицу справки, а также содержать
конкатенированную строку из всех параметров входного массива и содержать только
товары металлопроката.

## Входной массива
```
[
{
"category": "Плита",
"title": "Плита А5 11x1200x3000",
"alloy": "А5",
"size": "11x1200x3000",
"standard": "ГОСТ 17232-2023",
"item_id": "14202"
}, {
"category": "Лента упаковочная",
"title": "Лента упаковочная 11x1x3000",
"size": "11x1x3000",
"item_id": "14202"
},
{
"category": "Пруток",
"title": "Пруток Д16 8x3000",
"alloy": "Д16",
"size": "-",
"standard": "ГОСТ 21488-97",
"item_id": "12786"
},
{
"category": "Труба",
"title": "Труба Амц 37x1x3000",
"alloy": "Амц",
"size": "-",
"standard": "ГОСТ 18475-82",
"item_id": "12785"
},
{
"category": "Труба",
"title": "Труба 100х100х5 08пс",
"alloy": "08пс",
"size": "-",
"standard": "-",
"item_id": "15020"
},
{
"category": "Пруток",
"title": "Пруток КР Д16 32 мм",
"alloy": "Д16",
"size": "-",
"standard": "ТУ 1-8-207-2002",
"item_id": "13529"
},
{
"category": "Лист",
"title": "Лист биметаллический 10(5+5)x600x1200",
"alloy": "АМг6+12х18Н10Т",
"size": "10(5+5)x600x1200",
"standard": "ТУ 1-9-1021-2008",
"item_id": "10264"
},
{
"category": "Лента",
"title": "Лента А5 1,3x1200 РЛ",
"alloy": "А5",
"size": "1.3x1200xРЛ",
"standard": "ГОСТ 13726-97",
"item_id": "13538"
}
]
```
## Таблица справки
[По ссылке](https://e-metall.ru/docs/fields/) находится таблица с категориями, полями
категории и эталонными значениями для каждого поля
## Требования к новому массиву
### 1. Структура:
* Новый массив должен быть ассоциативным, где ключ — это item_id
  каждого товара.
* Каждый элемент должен содержать:
* name — название категории (из поля category).
* columns — массив столбцов с параметрами товара, где каждый
  столбец представлен как ассоциативный массив с ключами:
    * col_name — название параметра (например, "Диаметр",
      "Толщина", "Марка" и т.д.).
    * col_code — код параметра (например, item_diameter,
      item_wall, item_steel_mark и т.д.).
    * value — значение параметра (взятое из title, alloy,
      standard).
### Дополнительные поля:
* company_name — название компании (из справки: "ООО
      МеталлТорг").
* company_city — город компании (из справки: "Москва").
* item_price — цена товара (из справки: "50000").
* item_count — количество товара (из справки: "100").
* concatenated_params — строка, содержащая конкатенацию
  всех параметров входного массива (category, title, alloy, size,
  standard, item_id) через разделитель, например, |.
### 2. Правила разложения:
* Поле title содержит информацию о товаре, которую нужно разобрать и
  распределить по соответствующим параметрам в columns. 

Например:
* "Лист г/к 2.0х1250х2500 ст.3 ГОСТ 16523-97" → "Марка" = "3",
  "Толщина" = "2", "Ширина" = "1250", "Длина" = "2500", “Стандарт” =
  ГОСТ 16523-97“
* Если size содержит конкретные значения, использовать их для
  заполнения параметров.
* Поле alloy использовать как значение для item_steel_mark (марка),
  если оно отличается от данных в title.
* Поле standard использовать как значение для item_standart.
* Если параметр не указан в title или size, то null
### 3. Конкатенированная строка:
* Поле concatenated_params должно содержать объединённые значения
  всех параметров входного массива (category, title, alloy, size,
  standard, item_id) через разделитель |. Например:
* "Плита|Плита А5 11x1200x3000|А5|11x1200x3000|ГОСТ
  17232-2023|14202".
## Ожидаемый итоговый массив
   ```
   [
   "12052" => [
   "name" => "Лист",
   "columns" => [
   ["col_name" => "Толщина", "col_code" => "item_wall", "value" => "2"],
   ["col_name" => "Ширина", "col_code" => "item_width", "value" => "1250"],
   ["col_name" => "Длина", "col_code" => "item_length", "value" => "2500"],
   ["col_name" => "Марка", "col_code" => "item_steel_mark", "value" => "3"],
   ["col_name" => "Стандарт", "col_code" => "item_standart", "value" => "ГОСТ 16523-97"]
   ],
   "company_name" => "ООО МеталлТорг",
   "company_city" => "Москва",
   "item_price" => "50000",
   "item_count" => "100",
   "concatenated_params" => "Лист г/к 2.0х1250х2500 ст.3 ГОСТ 16523-97"
   ],
   // другие элементы...
   ]
   ```
